<html><title>INFERNAL SIGIL</title><link rel="shortcut icon" type="image/x-icon" href="images/favicon.ico" sizes="64x64"/><style>canvas{width:100%;}body{overflow:none;background:#000;margin:0px;}</style><canvas/><script>(()=>{var c={};function a(t,a){(c[t]||(c[t]=[])).push(a)}function d(t,a){(c[t]||[]).map(t=>t(a))}var i=document.getElementsByTagName("canvas")[0],x=(i.width=1200,i.height=window.innerHeight*i.width/window.innerWidth,i.getContext("2d"));function Y(t,a){x.strokeStyle=t,x.fillStyle=a}function $(a,t,e,n,i,s,h=null){var o,r=x.getTransform(),c=(x.translate(t,e),x.rotate(s),Math.cos(i)),M=Math.sin(i);let f=n;for(let t=0;t<a.length;t++){var l=a[t];if(3==l.length)Y(l[0],h||l[0]),o=l[1],x.lineWidth=o,f=n+l[2];else{x.beginPath(),x.moveTo(l[0]*c-f*M,l[1]);for(let t=2;t<l.length;t+=2)x.lineTo(l[t]*c-f*M,l[t+1]);h&&x.fill(),x.stroke()}}x.setTransform(r)}x.lineJoin="round",x.lineCap="round";var s=[],v={},h=[],o=0;function r(t){const a=Math.min(.001*(t-o),.5);x.clearRect(0,0,i.width,i.height);var e,n=x.getTransform();x.translate(270,100),h.length=0,s.map(t=>{t.update?.(a)&&h.push(t)}),0<h.length&&(s=M(s,e=h),e.map(a=>{a.tags?.map(t=>{v[t]=M(v[t],[a])})})),s.map(t=>{t.render?.(x)}),requestAnimationFrame(r),o=t,x.setTransform(n)}function n(a){s.push(a),s.sort((t,a)=>t.order-a.order),a.tags?.map(t=>{v[t]=v[t]??[],v[t].push(a)})}function M(t,a){return t.filter(t=>!a.includes(t))}var w={};function f(t,a,e,n){return t<e+n&&e<t+a}function b(t,a,e,n){const i={set:(t,a,e,n)=>{i.x=t,i.y=a,i.w=e,i.h=n}};return i.isTouching=t=>{return a=i,t=t,a=f(a.x,a.w,t.x,t.w)&&f(a.y,a.h,t.y,t.h),x.beginPath(),x.lineWidth=2,x.strokeStyle="#fff",x.rect(t.x,t.y,t.w,t.h),x.stroke(),a;var a},i.set(t,a,e,n),i}window.onkeydown=t=>{w[t.code]||(w[t.code]=Date.now())},window.onkeyup=t=>{delete w[t.code]};var t=function(W,D){let F=0,S=0,K=0,h=0,q=1,o=1,C=0,R=0,Z=0,r=0,B=0,c=new b(W-14,D-55,28,50),E=0,M=0,f=0,J=0,L=2,N=2,l=1,u=!1,m=0,p=0,U=0,X=0,g=0,y=0;const j=[["#e22",9,0],[14,-40,18,-26,1,0,-1,0,-18,-26,-14,-40],[-7,-11,7,-11],["#fff",4,5],[-9,-11,-3,-9],[9,-11,3,-9]],z=[["#e22",9,0],[0,-37,0,-17],[0,-17,7,0],[0,-17,-7,0]],G=[["#e22",9,0],[4,0,14,6],["#def",3,0],[18,5,25,8],[15,9,22,13]],I=[["#e22",9,0],[0,-17,-16,-6,-26,-6,-32,-15,-34,-22]],O=[["#ee2",6,0],[0,0,-5,-5,0,-17,5,-5],["#e62",6,0],[0,0,0,-9]],Q=[["#e22",3,0],[0,0,-20,-10,-50,-5,-55,15,-25,6,-40,-5,-25,6,-20,-10,-25,6,0,4]],V="rgba(230,100,70,0.5)";return{update:function(t){F+=t,l=Math.min(l+t,1),L=Math.min(L+2*t,1),N=Math.min(N+2*t,1);var a=(w.ArrowLeft?-1:0)+(w.ArrowRight?1:0),e=(w.ArrowUp?1:0)+(w.ArrowDown?-1:0),n=Date.now()-w.KeyX<100;let i=!1,s=!1;v.physics.map(({physics:t})=>{if(c.isTouching(t)){if(D-16<t.y+t.h&&D-16>t.y){if(W-10<t.x)return W=t.x-13,void(0<q&&M<0&&(s=!0));if(W+10>t.x+t.w)return W=t.x+t.w+13,void(q<0&&M<0&&(s=!0))}D-45<t.y&&-10<=h&&(h=0,D=t.y+5.1,r=.15,p=0,i=!0),D-15>t.y+t.h&&(h<-100||3==y)&&(h=0,D=t.y+t.h+55)}}),3!=y?(.3<Math.abs(a)?(.2<l&&(K+=3e3*Math.sign(a)*t*Math.pow(1-R,6),F+=2*t,C+=4*(1-C)*t),o=Math.sign(a)):C+=4*(0-C)*t,(Math.sign(a)!=Math.sign(K)||l<.2)&&(K-=14*K*t),n&&.18<l&&m<3&&(u?L=0:N=0,m+=1,u=!u,l=0,J=1,K=850*o,h=.25*h-100,d("attack",[new b(W-50+50*o,D-50,100,50),o])),.55<l&&(m=0)):.3<Math.abs(e)?(a=Math.min(6*f,1),D-=370*Math.sign(e)*t*a,S+=18*t*e*a):(F+=t,S-=15*Math.sin(S)*t),Date.now()-w.KeyZ<100&&.15<g&&(3!=y?0<r?(h=-800,g=0):p<1&&(p+=1,U=1,h=-800,g=0):(h=-800,K=300*-q,M=.1,y=0,p=0,r=0,g=0,s=!1)),s?i&&3==y?y=0:(s&&!i&&.3<l||s&&i&&.3<e)&&(y=3,l=1,K=0):(3==y&&(.3<e||h<-10)&&(h=-518,K=300*q,M=.1),y=0),3==y?0<=h?(h-=20*h*t,S+=h/10*t):(h-=10*h*t,S+=-h/10*t):(l<.2?h+=1e3*t:(r<=.1||h<0)&&(!w.KeyZ&&h<0?h+=4e3*t:h+=2e3*t),f=0),v.enemy.map(({enemyHitbox:t})=>{c.isTouching(t)&&E<=0&&(E=1,l=0,K=1100*Math.sign(W-t.x-t.w/2),h=-100)}),q+=15*(o-q)*t,E<=.7&&(K=Math.max(Math.min(K,400),-400)),h=Math.min(h,800),Z+=17*(h-Z)*t,B+=17*((0<r?1:0)-B)*t,R+=((3==y?1:0)-R)*(3==y?17:8)*t,J+=17*((l<.35?1:0)-J)*t,X+=17*(U-X)*t,D+=t*h,W+=t*K,r-=t,M-=t,f+=t,U=Math.max(U-(3==y?3*t:t),0),g+=t,E=Math.max(0,E-t),c.set(W-14,D-55,28,50)},render:function(t){var a=Math.sign(K)*Math.pow(Math.abs(K/400),.5),e=J,n=1-e,i=R,s=1-i,h=(1-B)*s,o=1-h,r=C*s*n,c=(1-r)*s,M=X,f=1-M,l=1-Math.exp(6*-L),u=l-Math.pow(L/1.5,2),m=(P=1-Math.exp(6*-N))-Math.pow(N/1.5,2),p=6*F,g=(.7*-q+.2*Math.cos(2*F))*c+(-.6*a+.1*Math.cos(.5*p))*r+-.6*q*i,y=5*a+Math.min(5*Math.cos(1.5*S),0)*q*i+(0<q?15+35*u-40*u*u:-15*u)*e,w=-37*c*n+(-31-a)*r*n+(2*Math.sin(1.5*S)-39)*i+(0<q?10*u-40:-28)*e,d=-.5*r+-1.2*Z/800*s*n+(.9-2*q)*i+(0<q?2.8*u-1.2:4*u-.9)*e,x=4*a*n+Math.min(5*Math.cos(1.5*S+3),0)*q*i+(0<q?15*m-3:-15-35*m+40*m*m)*e,v=-37*c*n+(a-31)*r*n+(-37-2*q+2*Math.sin(1.5*S+3))*i+(0<q?-28:10*m-40)*e,b=.5*r*n+1.2*Z/800*s+(-1.5*q-1)*i+(0<q?.9-4*m:1.6-2.9*m)*e,T=10*(a*s*n+e*q)+q*i*6,k=-37*c*n+-23*(r*n+e)+-43*i,A=.3*g+.2*a+q*Z/2e3*s+1.1*-q*i,u=g+(.15*Math.sin(1.2*S)-.2)*i+(.5*u-.5*m)*e,m=t.getTransform(),H=0<q?l:P,P=0<q?P:l;Y("#3af"),t.translate(W,D),q<0&&t.scale(-1,1),H<.95&&(t.lineWidth=4,t.beginPath(),t.ellipse(5,-25,80,20,.1,4*H-2.5,.5+H),t.stroke(),t.beginPath(),t.ellipse(5,-25,70,30,-.2,4*H-2.5,.5+H),t.stroke()),t.setTransform(m),z[1][0]=10*a*n-7*i*q+15*e*q,z[1][1]=-37*c*n-23*(r*n+e)-35*i,z[2][2]=(7*c+(7*Math.cos(p)-4)*a)*o*s+(5+Z/50)*h*q*s+(14*q+Math.min(7*Math.sin(-S),0))*i,z[2][3]=Math.min(7*Math.sin(p),0)*r*o*s+(-4-Z/70)*h*s+(9*Math.cos(S)*q-8)*i,z[3][2]=(-7*c+(7*Math.cos(3.2+p)-4)*a)*o*s+(Z/50-6)*h*q*s+(14*q+Math.min(7*Math.sin(3-S),0))*i,z[3][3]=Math.min(7*Math.sin(3.2+p),0)*r*o*s+(2-Z/70)*h*s+(9*Math.cos(S+3)*q-8)*i,I[1][3]=+Math.cos(p)+31-37-Z/50,I[1][5]=+Math.cos(1+p)+31-37-Z/40,I[1][6]=-32-Math.abs(Z/290),I[1][7]=2*Math.cos(2+p)+22-37-Z/30,I[1][8]=Z/70-34,I[1][9]=+Math.cos(3+p)+15-37-Z/20,.1<E&&(t.globalAlpha=0<Math.cos(50*E)?.2:1),$(I,W,D-8,0,1.57+g+.3*g,0),$(O,W,D+I[1][9]-8,I[1][8],g+.3*g,.3*-a+.1*Math.cos(D/14)),0<q?$(G,W+y,D+w-1.5*Math.cos(3+p)+1,0,g,d):$(G,W+x,D+v-1.5*Math.cos(3+p)+1,0,3.14+g,b),t.fillStyle,$(Q,W-2,D-37+6*e,0,0*M+(.4*g+1.4)*f,-.7*f+Z/2e3-M*M*4+2.8*U,V),$(Q,W+2,D-37+6*e,0,3.14*M+(.4*g+1.6)*f,.7*f+Z/2e3+M*M*4.4-2.8*U,V),$(z,W,D-8,0,g,0),$(j,W+T,D+k+1.5*Math.cos(1+p)+1,10,u,A),0<q?$(G,W+x,D+v-1.5*Math.cos(3+p)+1,0,3.14+g,b):$(G,W+y,D+w-1.5*Math.cos(3+p)+1,0,g,d),t.globalAlpha=1,Y("#3af"),t.translate(W,D),q<0&&t.scale(-1,1),P<.95&&(t.lineWidth=4,t.beginPath(),t.ellipse(5,-25,80,20,.2,-P,3-4*P),t.stroke(),t.beginPath(),t.ellipse(5,-25,70,30,.1,-P,3-4*P),t.stroke()),t.setTransform(m)},order:1e3,tags:["player"],playerHitbox:c}};var e=function(M,f,t){let l=0,n=0,i=0,s=1,u=1,m=0,h=3;const o=new b(0,0,0,0),p=[["#fff",5,0],[0,-13,4,-29,13,-40],[0,-16,-2,-17],[2,-22,-3,-24],[4,-28,0,-30],[6,-33,4,-35]],g=[["#fff",5,0],[-8,0,0,-13,8,0]],y=[["#fff",5,0],[0,0,14,15]],w=[["#fff",9,0],[3,10,-3,10,-3,0,-6,-4,0,-10,6,-4,3,0,3,10],["#000",4,5],[-5,-6,-3,-5],[5,-6,3,-5]];function r([t,a]){o.isTouching(t)&&(n=600*a,s=-Math.sign(a),m=1,--h)}return a("attack",r),{update:function(t){if(h<=0)return d("bone:spawn",[M,f-55,4]),e=r,c[a="attack"]=(c[a]||[]).filter(t=>t!=e),!0;var a,e;i+=1400*t,v.physics.map(({physics:t})=>{if(o.isTouching(t)){if(f-16<t.y+t.h&&f-16>t.y){if(M-10<t.x)return M=t.x-20,void(s=-1);if(M+10>t.x+t.w)return M=t.x+t.w+20,void(s=1)}f-45<t.y&&(i=0,f=t.y+.1),f-15>t.y+t.h&&(i<-100||3==state)&&(i=0,f=t.y+t.h+55)}}),m<=0&&(n=60*u,.98<Math.random&&(s=-s)),0<m&&(n-=12*n*t),l+=t,M+=n*t,f+=i*t,u+=8*(s-u)*t,m=Math.max(0,m-2*t),o.set(M-20,f-59,40,60)},render:function(t){var a=.6*u,e=6*l,n=t.getTransform(),i=(i=1.3,s=M,h=f,x.translate(s,h),x.scale(i,i),x.translate(-s,-h),Math.cos(e)/20*1-u*m*.3),s=7*a*1+50*i,h=0*(-33-2*a+Math.cos(e))+ +(-33-2*a+Math.cos(e-1)),o=7*a*1+50*i,r=0*(2*a-33+Math.cos(e))+ +(2*a-33+Math.cos(2+e)),c=+(-40+Math.cos(1+e));g[1][0]=8*Math.cos(e)*u*1,g[1][1]=4*Math.min(0,Math.sin(e))*1,g[1][4]=8*Math.cos(3+e)*u*1,g[1][5]=4*Math.min(0,Math.sin(3+e))*1,.2<m&&(t.globalAlpha=0<Math.cos(25*m)?.2:1),$(g,M,f,0,a,0),$(y,M+s,f+h,-4,2.1*a,-a/3),$(y,M+o,f+r,4,2.1*a+3.14,-a/3),$(p,M,f,0,2*a-1.57,i),$(w,M,f+c,23+70*i*u,-a,-m*u*.6),t.globalAlpha=1,t.setTransform(n)},order:500,tags:["enemy"],enemyHitbox:o}};var l=function(n,i,s,h){let o=7*Math.random(),r=7*Math.random();const c=new b(n,i,1,1),M=[["#fff",6,0],[-11,-7,-7,-7,7,7,7,11],[-7,-11,-7,-7,7,7,11,7]];return{update:function(t){o+=t,h+=2e3*t;let a=!1,e=(v.physics.map(({physics:t})=>{if(c.isTouching(t)){if(i-16<t.y+t.h&&i-16>t.y){if(n-10<t.x)return n=t.x-15,s=-s,void(targetFacing=-1);if(n+10>t.x+t.w)return n=t.x+t.w+15,s=-s,void(targetFacing=1)}i-45<t.y&&(h=300<h?-.4*h:0,s*=.7,i=t.y-19.9,a=!0),i-15>t.y+t.h&&(h<-100||3==state)&&(h=0,i=t.y+t.h+20)}}),a&&(s-=9*s*t),!1);if(v.player.map(({playerHitbox:t})=>{c.isTouching(t)&&(e=!0)}),e)return!0;n+=s*t,i+=h*t,c.set(n-15,i-20,30,40)},render:function(t){var a=3*o,e=.2*Math.cos(o+r)+r;$(M,n,i,0,a,e)},collectHitbox:c}};requestAnimationFrame(r),n(new t(150,400)),n(new e(500,439)),n(new l(300,300,0,0)),n({tags:["physics"],physics:new b(0,440,800,100)}),n({tags:["physics"],physics:new b(650,100,100,340)}),n({tags:["physics"],physics:new b(250,340,100,100)}),a("bone:spawn",([t,a,e])=>{for(;0<e--;)n(new l(t,a,400*(Math.random()-.5),300*-Math.random()-200))})})();</script></html>